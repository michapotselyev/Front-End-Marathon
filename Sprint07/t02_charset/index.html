<!DOCTYPE html>
<html lang="en" xmlns:thjs="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Charset</title>
</head>
<body>
    <h1>Charset</h1>
    <div>
      	<form action="/charset" method="post">
			<label>Change charset:</label>
			<input type="text" required name="text">
			<br><br>
			<label for="sel">Select charsets:</label>
			<select multiple name="selected">
				<option selected>UTF-8</option>
				<option>ISO-8859-1</option>
				<option>Windows-1252</option>
			</select>
			<button type="submit">Change charset</button>
			<input type="reset" value="Clear" onclick="location.replace('/')">
      	</form>
      	<div id="items">
			<div class="hidden" style="display: none">
				<label for="input">Input string: </label>
				<textarea name="input" id="input" thjs:text="${input}"></textarea>
			</div>
			<div class="hidden" style="display: none">
				<label for="utf">UTF-8: </label>
				<textarea name="utf" thjs:text="${utf8}"></textarea>
			</div>
			<div class="hidden" style="display: none">
				<label for="iso">ISO-8859-1: </label>
				<textarea name="iso" thjs:text="${iso}"></textarea>
			</div>
			<div class="hidden" style="display: none">
				<label for="win">Windows-1252: </label>
				<textarea name="win" thjs:text="${cp1252}"></textarea>
			</div>
			<script>
				let hidden = document.querySelectorAll('.hidden');
				hidden.forEach((elem) => {
					if (elem.childNodes[3].innerHTML !== '')
					{
						elem.setAttribute('style', 'display: block;');
					}
				});
			</script>
      	</div>
      	<p thjs:text="${errorMsg}" style="color: red"></p>
    </div>
</body>
</html>
